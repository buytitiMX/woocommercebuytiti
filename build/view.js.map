{"version":3,"file":"view.js","mappings":"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","sources":["webpack://buytitiwoocommerce/./src/view.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', (event) => {\n  const addToCartButtons = document.querySelectorAll('.product-item button');\n\n  addToCartButtons.forEach((button) => {\n    button.addEventListener('click', async (event) => {\n      const productContainer = event.target.closest('.product-item');\n      const productId = productContainer.getAttribute('data-product-id');\n      const quantityInput = productContainer.querySelector('input[type=\"number\"]');\n      const quantity = quantityInput ? parseInt(quantityInput.value, 10) : 1;\n\n      try {\n        // Antes de agregar al carrito, verifica el stock\n        const stockResponse = await fetch(`http://localhost/wordpress/wp-json/wc/store/products/${productId}`);\n        const stockData = await stockResponse.json();\n\n        if (quantity > stockData.add_to_cart.maximum) {\n          throw new Error(`X Error: Este artículo solo tiene ${stockData.add_to_cart.maximum} unidades en stock`);\n        }\n\n        const response = await fetch(`https://localhost/worpress/carrito/?add-to-cart=${productId}&quantity=${quantity}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Basic ' + btoa('ck_ac3c22c76f6c10391e07a5da81d149cff31b3969' + ':' + 'cs_5ceb43e67fc857aae274297111e3603e1c593131'),\n          },\n          body: JSON.stringify({\n            product_id: productId,\n            quantity: quantity,\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error(`X Error al añadir el producto al carrito: ${response.statusText}`);\n        }\n\n        // Muestra la alerta de éxito\n        const successAlert = document.getElementById('success-alert');\n        successAlert.textContent = '✓ Se añadió tu producto al carrito correctamente';\n        successAlert.style.display = 'flex';\n        successAlert.style.height = '2.5rem';\n        successAlert.style.alignItems = 'center';\n        successAlert.style.paddingLeft = '1rem';\n\n        // Oculta la alerta después de 4 segundos\n        setTimeout(() => {\n          successAlert.style.display = 'none';\n        }, 4000);\n\n        console.log(`Producto agregado al carrito: ${productId}`);\n      } catch (error) {\n        console.error('Error al añadir el producto al carrito:', error.message);\n\n        // Muestra la alerta de error\n        const errorAlert = document.getElementById('error-alert');\n        errorAlert.textContent = error.message;\n        errorAlert.style.display = 'flex';\n        errorAlert.style.height = '2.5rem';\n        errorAlert.style.alignItems = 'center';\n        errorAlert.style.paddingLeft = '1rem';\n\n        // Oculta la alerta de error después de 4 segundos\n        setTimeout(() => {\n          errorAlert.style.display = 'none';\n        }, 4000);\n      }\n    });\n  });\n\n  const imageContainers = document.querySelectorAll('.product-item .image-container');\n\n  imageContainers.forEach((container) => {\n    const img = container.querySelector('img');\n\n    img.addEventListener('mouseover', () => {\n      img.src = img.dataset.hoverSrc;\n    });\n\n    img.addEventListener('mouseout', () => {\n      img.src = img.dataset.originalSrc;\n    });\n  });\n});"],"names":["document","addEventListener","event","addToCartButtons","querySelectorAll","forEach","button","productContainer","target","closest","productId","getAttribute","quantityInput","querySelector","quantity","parseInt","value","stockResponse","fetch","stockData","json","add_to_cart","maximum","Error","response","method","headers","btoa","body","JSON","stringify","product_id","ok","statusText","successAlert","getElementById","textContent","style","display","height","alignItems","paddingLeft","setTimeout","console","log","error","message","errorAlert","imageContainers","container","img","src","dataset","hoverSrc","originalSrc"],"sourceRoot":""}