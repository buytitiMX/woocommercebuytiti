{"version":3,"file":"index.js","mappings":"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hBpE,OAAO,CAACoE,WAAW,CAACC,OAAO,GAC3B4C;EACH,CACD,CAAC,EACFjC,oDAAA;IAAQQ,SAAS,EAAC;EAAe,GAC/B9G,mDAAE,CAAC,mBAAmB,EAAE,uBAAuB,CACzC,CACJ,CACD,CACD,CACL,CACG,CACD,CAAC;AAER,CAAC;AAED,iEAAegJ,sBAAsB;;;;;;;;;;;ACvKrC;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://buytitiwoocommerce/./src/edit.js","webpack://buytitiwoocommerce/./src/index.js","webpack://buytitiwoocommerce/./src/save.js","webpack://buytitiwoocommerce/./src/style.scss","webpack://buytitiwoocommerce/external window \"React\"","webpack://buytitiwoocommerce/external window [\"wp\",\"blockEditor\"]","webpack://buytitiwoocommerce/external window [\"wp\",\"blocks\"]","webpack://buytitiwoocommerce/external window [\"wp\",\"components\"]","webpack://buytitiwoocommerce/external window [\"wp\",\"i18n\"]","webpack://buytitiwoocommerce/webpack/bootstrap","webpack://buytitiwoocommerce/webpack/runtime/chunk loaded","webpack://buytitiwoocommerce/webpack/runtime/compat get default export","webpack://buytitiwoocommerce/webpack/runtime/define property getters","webpack://buytitiwoocommerce/webpack/runtime/hasOwnProperty shorthand","webpack://buytitiwoocommerce/webpack/runtime/make namespace object","webpack://buytitiwoocommerce/webpack/runtime/jsonp chunk loading","webpack://buytitiwoocommerce/webpack/before-startup","webpack://buytitiwoocommerce/webpack/startup","webpack://buytitiwoocommerce/webpack/after-startup"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { __ } from \"@wordpress/i18n\";\nimport { useBlockProps, InspectorControls } from \"@wordpress/block-editor\";\nimport { PanelBody, SelectControl, Button } from \"@wordpress/components\";\nimport { RadioControl } from \"@wordpress/components\";\n\nconst MyWooCommerceBlock = ({ attributes, setAttributes }) => {\n\tconst { products = [], categories, selectedCategory, filter } = attributes;\n\tconst [loading, setLoading] = useState(true);\n\tconst [showAllProducts, setShowAllProducts] = useState(false);\n\n\t// Función para manejar el cambio en la opción de cantidad de productos\n\tconst handleShowAllProductsChange = (newValue) => {\n\t\tsetShowAllProducts(newValue);\n\t\t// Aquí actualizamos solo el atributo showAllProducts\n\t\tsetAttributes({ ...attributes, showAllProducts: newValue });\n\t};\n\n\tconst filterProducts = () => {\n\t\tlet filtered = products;\n\n\t\t// Filtrar por categoría si se seleccionó una\n\t\tif (selectedCategory) {\n\t\t\tfiltered = filtered.filter(\n\t\t\t\t(product) =>\n\t\t\t\t\tproduct.categories &&\n\t\t\t\t\tproduct.categories.some(\n\t\t\t\t\t\t(category) => category.id === parseInt(selectedCategory, 10),\n\t\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\t// Filtrar por productos en oferta\n\t\tif (filter === \"on_sale\") {\n\t\t\tfiltered = filtered.filter(\n\t\t\t\t(product) => product.prices.sale_price !== product.prices.regular_price,\n\t\t\t);\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst filteredProducts = filterProducts();\n\n\t// Mostrar todos los productos o solo 10 según la opción seleccionada\n\tconst displayedProducts = showAllProducts\n\t\t? filteredProducts\n\t\t: filteredProducts.slice(0, 10);\n\n\tconst fetchProductsByCategory = async () => {\n\t\ttry {\n\t\t\tlet categoryProducts = [];\n\t\t\tfor (let page = 1; page <= 5; page++) {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`http://localhost/wordpress/wp-json/wc/store/products?category=${selectedCategory}&per_page=100&page=${page}`,\n\t\t\t\t);\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(`Error en la solicitud: ${response.statusText}`);\n\t\t\t\t}\n\n\t\t\t\tconst data = await response.json();\n\t\t\t\tcategoryProducts = [...categoryProducts, ...data];\n\n\t\t\t\t// Break the loop if there are no more products\n\t\t\t\tif (data.length < 100) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst productsWithIsNew = await Promise.all(\n\t\t\t\tcategoryProducts.map(async (product) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst productResponse = await fetch(\n\t\t\t\t\t\t\t`http://localhost/wordpress/wp-json/wp/v2/product/${product.id}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!productResponse.ok) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t`Error en la solicitud de producto: ${productResponse.statusText}`,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst productData = await productResponse.json();\n\t\t\t\t\t\tconst isNew = isProductNew(productData.date);\n\n\t\t\t\t\t\t// Add attribute name and category to the product object\n\t\t\t\t\t\tconst attributeName = product.attributes[0]?.name || \"Buytiti\";\n\t\t\t\t\t\tconst categoryName = product.categories[0]?.name;\n\n\t\t\t\t\t\treturn { ...product, isNew, attributeName, categoryName };\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t`Error al obtener información del producto ${product.id}: ${error.message}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn product;\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\t// Ordenar los productos por fecha y hora (de más reciente a más antiguo)\n\t\t\tconst sortedProducts = productsWithIsNew.sort((a, b) => {\n\t\t\t\tconst dateA = new Date(a.date).getTime();\n\t\t\t\tconst dateB = new Date(b.date).getTime();\n\t\t\t\treturn dateB - dateA;\n\t\t\t});\n\n\t\t\tsetAttributes({ products: sortedProducts });\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error fetching WooCommerce products:\", error.message);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst fetchRecentProducts = async () => {\n\t\ttry {\n\t\t\tlet recentProducts = [];\n\t\t\tfor (let page = 1; page <= 1; page++) {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`http://localhost/wordpress/wp-json/wc/store/products?per_page=10&page=${page}`,\n\t\t\t\t);\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(`Error en la solicitud: ${response.statusText}`);\n\t\t\t\t}\n\n\t\t\t\tconst data = await response.json();\n\t\t\t\trecentProducts = [...recentProducts, ...data];\n\t\t\t}\n\n\t\t\tconst productsWithIsNew = await Promise.all(\n\t\t\t\trecentProducts.map(async (product) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst productResponse = await fetch(\n\t\t\t\t\t\t\t`http://localhost/wordpress/wp-json/wp/v2/product/${product.id}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!productResponse.ok) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t`Error en la solicitud de producto: ${productResponse.statusText}`,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst productData = await productResponse.json();\n\t\t\t\t\t\tconst isNew = isProductNew(productData.date);\n\n\t\t\t\t\t\t// Add attribute name and category to the product object\n\t\t\t\t\t\tconst attributeName = product.attributes[0]?.name || \"Buytiti\";\n\t\t\t\t\t\tconst categoryName = product.categories[0]?.name;\n\n\t\t\t\t\t\treturn { ...product, isNew, attributeName, categoryName };\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t`Error al obtener información del producto ${product.id}: ${error.message}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn product;\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\t// Ordenar los productos por fecha y hora (de más reciente a más antiguo)\n\t\t\tconst sortedProducts = productsWithIsNew.sort((a, b) => {\n\t\t\t\tconst dateA = new Date(a.date).getTime();\n\t\t\t\tconst dateB = new Date(b.date).getTime();\n\t\t\t\treturn dateB - dateA;\n\t\t\t});\n\n\t\t\tsetAttributes({ products: sortedProducts });\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(\n\t\t\t\t\"Error fetching recent WooCommerce products:\",\n\t\t\t\terror.message,\n\t\t\t);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (selectedCategory) {\n\t\t\tfetchProductsByCategory();\n\t\t} else {\n\t\t\tfetchRecentProducts();\n\t\t}\n\n\t\tconst fetchWooCommerceCategories = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t\"http://localhost/wordpress/wp-json/wc/store/products/categories\",\n\t\t\t\t);\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(`Error en la solicitud: ${response.statusText}`);\n\t\t\t\t}\n\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetAttributes({ categories: data });\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error fetching WooCommerce categories:\", error.message);\n\t\t\t}\n\t\t};\n\n\t\tfetchWooCommerceCategories();\n\t}, [setAttributes, selectedCategory]);\n\n\tconst handleCategoryChange = (value) => {\n\t\tsetAttributes({ selectedCategory: value });\n\t};\n\n\tconst handleFilterClick = () => {\n\t\tsetAttributes({ filter: true });\n\t};\n\n\tconst handleResetFilter = () => {\n\t\tsetAttributes({ filter: false, selectedCategory: \"\" });\n\t};\n\n\tconst isProductNew = (productDate) => {\n\t\tconst SEVEN_DAYS_IN_MS = 7 * 24 * 60 * 60 * 1000;\n\t\tconst productTimestamp = new Date(productDate).getTime();\n\t\tconst currentTimestamp = new Date().getTime();\n\t\treturn currentTimestamp - productTimestamp < SEVEN_DAYS_IN_MS;\n\t};\n\n\tconst [showAlert, setShowAlert] = useState(false);\n\tconst [errorAlert, setErrorAlert] = useState(false);\n\n\tconst handleAddToCart = async (productId) => {\n\t\tconst quantityInput = document.getElementById(`quantity-${productId}`);\n\t\tconst quantity = quantityInput ? parseInt(quantityInput.value, 10) : 1;\n\n\t\ttry {\n\t\t\t// Obtener el producto actual\n\t\t\tconst product = filteredProducts.find((p) => p.id === productId);\n\n\t\t\t// Verificar si la cantidad seleccionada supera el stock máximo\n\t\t\tif (\n\t\t\t\tproduct.add_to_cart &&\n\t\t\t\tproduct.add_to_cart.maximum &&\n\t\t\t\tquantity > product.add_to_cart.maximum\n\t\t\t) {\n\t\t\t\tsetErrorAlert(\n\t\t\t\t\t`Error: Este artículo tiene solo ${product.add_to_cart.maximum} unidades en stock.`,\n\t\t\t\t);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorAlert(false);\n\t\t\t\t}, 4000);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst response = await fetch(\n\t\t\t\t`/wordpress/carrito/?add-to-cart=${productId}&quantity=${quantity}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization:\n\t\t\t\t\t\t\t\"Basic \" +\n\t\t\t\t\t\t\tbtoa(\n\t\t\t\t\t\t\t\t\"ck_ff9474de189b37a7aa63b4a9ea3279c5685d3749\" +\n\t\t\t\t\t\t\t\t\t\":\" +\n\t\t\t\t\t\t\t\t\t\"cs_aaab9f6527fdc3f132bdb2c10516d08e1c4222bd\",\n\t\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tproduct_id: productId,\n\t\t\t\t\t\tquantity: quantity,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Error al añadir el producto al carrito: ${response.statusText}`,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetShowAlert(true);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowAlert(false);\n\t\t\t}, 5000);\n\n\t\t\tconsole.log(`Producto agregado al carrito: ${productId}`);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error al añadir el producto al carrito:\", error.message);\n\t\t\tsetErrorAlert(`Error: ${error.message}`);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorAlert(false);\n\t\t\t}, 5000);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div {...useBlockProps()}>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__(\"Filtro de categoría\", \"tu-texto-localizacion\")}>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__(\"Selecciona una categoría\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\tvalue={selectedCategory}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: \"Ninguna\", value: \"\" },\n\t\t\t\t\t\t\t...categories.map((category) => ({\n\t\t\t\t\t\t\t\tlabel: category.name,\n\t\t\t\t\t\t\t\tvalue: category.id,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={handleCategoryChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__(\"Selecciona un filtro\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: \"Ninguno\", value: \"\" },\n\t\t\t\t\t\t\t{ label: \"En oferta\", value: \"on_sale\" },\n\t\t\t\t\t\t\t...categories.map((category) => ({\n\t\t\t\t\t\t\t\tlabel: category.name,\n\t\t\t\t\t\t\t\tvalue: category.id,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={(value) => setAttributes({ filter: value })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button isPrimary onClick={handleFilterClick}>\n\t\t\t\t\t\t{__(\"Filtrar\", \"tu-texto-localizacion\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{filter && (\n\t\t\t\t\t\t<Button onClick={handleResetFilter}>\n\t\t\t\t\t\t\t{__(\"Limpiar filtro\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t\t<RadioControl\n\t\t\t\t\tlabel={__(\"Cantidad de productos\", \"tu-texto-localizacion\")}\n\t\t\t\t\tselected={showAllProducts ? \"all\" : \"10\"}\n\t\t\t\t\toptions={[\n\t\t\t\t\t\t{ label: \"10\", value: \"10\" },\n\t\t\t\t\t\t{ label: \"Todos\", value: \"all\" },\n\t\t\t\t\t]}\n\t\t\t\t\tonChange={(value) => handleShowAllProductsChange(value === \"all\")}\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t{loading ? (\n\t\t\t\t<p>{__(\"Cargando productos...\", \"tu-texto-localizacion\")}</p>\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t{showAlert && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"alert\"\n\t\t\t\t\t\t\tstyle={{ backgroundColor: \"#FF7942\", color: \"white\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSe añadió tu producto correctamente\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{errorAlert && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"alert\"\n\t\t\t\t\t\t\tstyle={{ backgroundColor: \"#FF0000\", color: \"white\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{errorAlert}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"grid-container\">\n\t\t\t\t\t\t{displayedProducts.map((product) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={product.id}\n\t\t\t\t\t\t\t\tclassName=\"product-item\"\n\t\t\t\t\t\t\t\tdata-product-id={product.id}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"image-container\">\n\t\t\t\t\t\t\t\t\t{product.add_to_cart &&\n\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum &&\n\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum < 10 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"stock-alert\">\n\t\t\t\t\t\t\t\t\t\t\t\t{__(\"Pocas existencias\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{product.isNew && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"new-label\">\n\t\t\t\t\t\t\t\t\t\t\t{__(\"Nuevo\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{product.prices.sale_price !==\n\t\t\t\t\t\t\t\t\t\tproduct.prices.regular_price && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"offer-box\">\n\t\t\t\t\t\t\t\t\t\t\t\t{__(\"Oferta\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"discount-box\">{`-${Math.round(\n\t\t\t\t\t\t\t\t\t\t\t\t((product.prices.regular_price -\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.prices.sale_price) /\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.prices.regular_price) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t\t\t\t\t\t)}%`}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={product.permalink}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-size\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={product.images[0].src}\n\t\t\t\t\t\t\t\t\t\t\talt={product.name}\n\t\t\t\t\t\t\t\t\t\t\tonMouseOver={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.currentTarget.src = product.images[1].src;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonMouseOut={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.currentTarget.src = product.images[0].src;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{product.add_to_cart && product.add_to_cart.maximum && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"stock-info\">\n\t\t\t\t\t\t\t\t\t\t\t{__(\"Disponibles\", \"tu-texto-localizacion\")}:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{product.add_to_cart.maximum}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"attribute-category\">\n\t\t\t\t\t\t\t\t\t<span>{product.attributeName}</span>\n\t\t\t\t\t\t\t\t\t{product.categoryName && <span> - </span>}\n\t\t\t\t\t\t\t\t\t{product.categoryName && (\n\t\t\t\t\t\t\t\t\t\t<span className=\"categoria\">{product.categoryName}</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"name-buytiti\">{product.name}</div>\n\t\t\t\t\t\t\t\t<div className=\"sku\">SKU: {product.sku}</div>\n\t\t\t\t\t\t\t\t{product.prices.sale_price !== product.prices.regular_price ? (\n\t\t\t\t\t\t\t\t\t<div className=\"container-price\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"regular-price\">\n\t\t\t\t\t\t\t\t\t\t\t<del>\n\t\t\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t</del>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"sale-price\">\n\t\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t\t{(product.prices.sale_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"price\">\n\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className=\"quantity-container\">\n\t\t\t\t\t\t\t\t\t<label htmlFor={`quantity-${product.id}`}>\n\t\t\t\t\t\t\t\t\t\t{__(\"\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<div className=\"quantity-input-container\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"number-input\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tid={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\t\t\tname={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\t\t\t\tmax={\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart\n\t\t\t\t\t\t\t\t\t\t\t\t\t? product.add_to_cart.maximum\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"1\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.value > product.add_to_cart.maximum) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value = product.add_to_cart.maximum;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-addtocart\"\n\t\t\t\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddToCart(product.id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{__(\"Añadir al carrito\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default MyWooCommerceBlock;\n","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n\n\t/**\n\t * @see ./save.js\n\t */\n\tsave,\n} );\n","const { useBlockProps } = wp.blockEditor;\nimport { __ } from \"@wordpress/i18n\";\n\nconst MyWooCommerceBlockSave = ({ attributes }) => {\n\tconst { products, selectedCategory, filter, showAllProducts } = attributes;\n\n\tconst filterProducts = () => {\n\t\tlet filtered = products;\n\n\t\t// Filtrar por categoría si se seleccionó una\n\t\tif (selectedCategory) {\n\t\t\tfiltered = filtered.filter(\n\t\t\t\t(product) =>\n\t\t\t\t\tproduct.categories &&\n\t\t\t\t\tproduct.categories.some(\n\t\t\t\t\t\t(category) => category.id === parseInt(selectedCategory, 10),\n\t\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\t// Filtrar por productos en oferta\n\t\tif (filter === \"on_sale\") {\n\t\t\tfiltered = filtered.filter(\n\t\t\t\t(product) => product.prices.sale_price !== product.prices.regular_price,\n\t\t\t);\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst filteredProducts = filterProducts();\n\n\t// Mostrar todos los productos o solo 10 según la opción seleccionada\n\tconst displayedProducts = showAllProducts\n\t\t? filteredProducts\n\t\t: filteredProducts.slice(0, 10);\n\n\treturn (\n\t\t<div {...useBlockProps.save()}>\n\t\t\t<div\n\t\t\t\tid=\"success-alert\"\n\t\t\t\tstyle=\"display: none; background-color: #28a745; color: white;\"\n\t\t\t>\n\t\t\t\t✓ Se añadió tu producto correctamente\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tid=\"error-alert\"\n\t\t\t\tstyle=\"display: none; background-color: red; color: white;\"\n\t\t\t>\n\t\t\t\tX Error\n\t\t\t</div>\n\t\t\t<div className=\"grid-container\">\n\t\t\t\t{displayedProducts.map((product) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={product.id}\n\t\t\t\t\t\tclassName=\"product-item\"\n\t\t\t\t\t\tdata-product-id={product.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"image-container\">\n\t\t\t\t\t\t\t{product.add_to_cart &&\n\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum &&\n\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum < 10 && (\n\t\t\t\t\t\t\t\t\t<div className=\"stock-alert\">\n\t\t\t\t\t\t\t\t\t\t{__(\"Pocas existencias\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{product.isNew && (\n\t\t\t\t\t\t\t\t<div className=\"new-label\">\n\t\t\t\t\t\t\t\t\t{__(\"Nuevo\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{product.prices.sale_price !== product.prices.regular_price && (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"offer-box\">\n\t\t\t\t\t\t\t\t\t\t{__(\"Oferta\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"discount-box\">{`-${Math.round(\n\t\t\t\t\t\t\t\t\t\t((product.prices.regular_price -\n\t\t\t\t\t\t\t\t\t\t\tproduct.prices.sale_price) /\n\t\t\t\t\t\t\t\t\t\t\tproduct.prices.regular_price) *\n\t\t\t\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t\t\t\t)}%`}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={product.permalink}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"img-size\"\n\t\t\t\t\t\t\t\t\tsrc={product.images[0].src}\n\t\t\t\t\t\t\t\t\tdata-original-src={product.images[0].src}\n\t\t\t\t\t\t\t\t\tdata-hover-src={product.images[1].src}\n\t\t\t\t\t\t\t\t\talt={product.name}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{product.add_to_cart && product.add_to_cart.maximum && (\n\t\t\t\t\t\t\t\t<div className=\"stock-info\">\n\t\t\t\t\t\t\t\t\t{__(\"Disponibles\", \"tu-texto-localizacion\")}:{\" \"}\n\t\t\t\t\t\t\t\t\t{product.add_to_cart.maximum}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"attribute-category\">\n\t\t\t\t\t\t\t<span>{product.attributeName}</span>\n\t\t\t\t\t\t\t{product.categoryName && <span> - </span>}\n\t\t\t\t\t\t\t{product.categoryName && (\n\t\t\t\t\t\t\t\t<span className=\"categoria\">{product.categoryName}</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"name-buytiti\">{product.name}</div>\n\t\t\t\t\t\t<div className=\"sku\">SKU: {product.sku}</div>\n\t\t\t\t\t\t{product.prices.sale_price !== product.prices.regular_price ? (\n\t\t\t\t\t\t\t<div className=\"container-price\">\n\t\t\t\t\t\t\t\t<div className=\"regular-price\">\n\t\t\t\t\t\t\t\t\t<del>\n\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t</del>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sale-price\">\n\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t{(product.prices.sale_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"price\">\n\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"quantity-container\">\n\t\t\t\t\t\t\t<label htmlFor={`quantity-${product.id}`}>\n\t\t\t\t\t\t\t\t{__(\"\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"quantity-input-container\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"number-input\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tid={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\tname={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\t\tmax={\n\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart\n\t\t\t\t\t\t\t\t\t\t\t? product.add_to_cart.maximum\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tValue=\"1\"\n\t\t\t\t\t\t\t\t\tdata-max={\n\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart\n\t\t\t\t\t\t\t\t\t\t\t? product.add_to_cart.maximum\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button className=\"btn-addtocart\">\n\t\t\t\t\t\t\t\t\t{__(\"Añadir al carrito\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MyWooCommerceBlockSave;\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkbuytitiwoocommerce\"] = globalThis[\"webpackChunkbuytitiwoocommerce\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["useEffect","useState","__","useBlockProps","InspectorControls","PanelBody","SelectControl","Button","RadioControl","MyWooCommerceBlock","attributes","setAttributes","products","categories","selectedCategory","filter","loading","setLoading","showAllProducts","setShowAllProducts","handleShowAllProductsChange","newValue","filterProducts","filtered","product","some","category","id","parseInt","prices","sale_price","regular_price","filteredProducts","displayedProducts","slice","fetchProductsByCategory","categoryProducts","page","response","fetch","ok","Error","statusText","data","json","length","productsWithIsNew","Promise","all","map","productResponse","productData","isNew","isProductNew","date","attributeName","name","categoryName","error","console","message","sortedProducts","sort","a","b","dateA","Date","getTime","dateB","fetchRecentProducts","recentProducts","fetchWooCommerceCategories","handleCategoryChange","value","handleFilterClick","handleResetFilter","productDate","SEVEN_DAYS_IN_MS","productTimestamp","currentTimestamp","showAlert","setShowAlert","errorAlert","setErrorAlert","handleAddToCart","productId","quantityInput","document","getElementById","quantity","find","p","add_to_cart","maximum","setTimeout","method","headers","Authorization","btoa","body","JSON","stringify","product_id","log","createElement","title","label","options","onChange","isPrimary","onClick","selected","className","style","backgroundColor","color","key","Math","round","href","permalink","target","rel","src","images","alt","onMouseOver","e","currentTarget","onMouseOut","sku","currency_prefix","toFixed","htmlFor","type","min","max","undefined","defaultValue","registerBlockType","Edit","save","metadata","edit","wp","blockEditor","MyWooCommerceBlockSave","Value"],"sourceRoot":""}