{"version":3,"file":"index.js","mappings":"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","sources":["webpack://buytitiwoocommerce/./src/edit.js","webpack://buytitiwoocommerce/./src/index.js","webpack://buytitiwoocommerce/./src/save.js","webpack://buytitiwoocommerce/./src/style.scss","webpack://buytitiwoocommerce/external window \"React\"","webpack://buytitiwoocommerce/external window [\"wp\",\"blockEditor\"]","webpack://buytitiwoocommerce/external window [\"wp\",\"blocks\"]","webpack://buytitiwoocommerce/external window [\"wp\",\"components\"]","webpack://buytitiwoocommerce/external window [\"wp\",\"i18n\"]","webpack://buytitiwoocommerce/webpack/bootstrap","webpack://buytitiwoocommerce/webpack/runtime/chunk loaded","webpack://buytitiwoocommerce/webpack/runtime/compat get default export","webpack://buytitiwoocommerce/webpack/runtime/define property getters","webpack://buytitiwoocommerce/webpack/runtime/hasOwnProperty shorthand","webpack://buytitiwoocommerce/webpack/runtime/make namespace object","webpack://buytitiwoocommerce/webpack/runtime/jsonp chunk loading","webpack://buytitiwoocommerce/webpack/before-startup","webpack://buytitiwoocommerce/webpack/startup","webpack://buytitiwoocommerce/webpack/after-startup"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { __ } from \"@wordpress/i18n\";\nimport { useBlockProps, InspectorControls } from \"@wordpress/block-editor\";\nimport { PanelBody, SelectControl, Button } from \"@wordpress/components\";\nimport { RadioControl } from \"@wordpress/components\";\n\nconst MyWooCommerceBlock = ({ attributes, setAttributes }) => {\n\tconst { products = [], categories, selectedCategory, filter } = attributes;\n\tconst [loading, setLoading] = useState(true);\n\tconst [showAllProducts, setShowAllProducts] = useState(false);\n\n\t// Función para manejar el cambio en la opción de cantidad de productos\n\tconst handleShowAllProductsChange = (newValue) => {\n\t\tsetShowAllProducts(newValue);\n\t\t// Aquí actualizamos solo el atributo showAllProducts\n\t\tsetAttributes({ ...attributes, showAllProducts: newValue });\n\t};\n\n\tconst filterProducts = () => {\n\t\tif (selectedCategory) {\n\t\t\treturn products.filter(\n\t\t\t\t(product) =>\n\t\t\t\t\tproduct.categories &&\n\t\t\t\t\tproduct.categories.some(\n\t\t\t\t\t\t(category) => category.id === parseInt(selectedCategory, 10),\n\t\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\treturn products;\n\t};\n\n\tconst filteredProducts = filterProducts();\n\n\t// Mostrar todos los productos o solo 10 según la opción seleccionada\n\tconst displayedProducts = showAllProducts\n\t\t? filteredProducts\n\t\t: filteredProducts.slice(0, 10);\n\n\t\tuseEffect(() => {\n\t\t\tconst fetchWooCommerceProducts = async () => {\n\t\t\t  try {\n\t\t\t\tlet allProducts = [];\n\t\t\t\tfor (let page = 1; page <= 20; page++) {\n\t\t\t\t  const response = await fetch(`http://localhost/wordpress/wp-json/wc/store/products?per_page=100&page=${page}`);\n\t\t  \n\t\t\t\t  if (!response.ok) {\n\t\t\t\t\tthrow new Error(`Error en la solicitud: ${response.statusText}`);\n\t\t\t\t  }\n\t\t  \n\t\t\t\t  const data = await response.json();\n\t\t\t\t  allProducts = [...allProducts, ...data];\n\t\t\t\t}\n\t\t  \n\t\t\t\tconst productsWithIsNew = await Promise.all(\n\t\t\t\t  allProducts.map(async (product) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t  const productResponse = await fetch(`http://localhost/wordpress/wp-json/wp/v2/product/${product.id}`);\n\t\t\t\t\t  if (!productResponse.ok) {\n\t\t\t\t\t\tthrow new Error(`Error en la solicitud de producto: ${productResponse.statusText}`);\n\t\t\t\t\t  }\n\t\t\t\t\t  const productData = await productResponse.json();\n\t\t\t\t\t  const isNew = isProductNew(productData.date);\n\t\t\t  \n\t\t\t\t\t  // Add attribute name and category to the product object\n\t\t\t\t\t  const attributeName = product.attributes[0]?.name || 'Buytiti';\n\t\t\t\t\t  const categoryName = product.categories[0]?.name;\n\t\t\t  \n\t\t\t\t\t  return { ...product, isNew, attributeName, categoryName };\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t  console.error(`Error al obtener información del producto ${product.id}: ${error.message}`);\n\t\t\t\t\t  return product;\n\t\t\t\t\t}\n\t\t\t\t  })\n\t\t\t\t);\n\t\t  \n\t\t\t\t // Filtrar productos nuevos\n\t\t\t\t const newProducts = productsWithIsNew.filter((product) => product.isNew);\n\n\t\t\t\t // Ordenar los productos por fecha y hora (de más reciente a más antiguo)\n\t\t\t\t const sortedProducts = productsWithIsNew.sort((a, b) => {\n\t\t\t\t   const dateA = new Date(a.date).getTime();\n\t\t\t\t   const dateB = new Date(b.date).getTime();\n\t\t\t\t   return dateB - dateA;\n\t\t\t\t });\n\t\t\t \n\t\t\t\t setAttributes({ products: sortedProducts });\n\t\t\t\t setLoading(false);\n\t\t\t   } catch (error) {\n\t\t\t\t console.error(\"Error fetching WooCommerce products:\", error.message);\n\t\t\t\t setLoading(false);\n\t\t\t   }\n\t\t\t };\n\t\t  \n\t\t\tconst fetchWooCommerceCategories = async () => {\n\t\t\t  try {\n\t\t\t\tconst response = await fetch('http://localhost/wordpress/wp-json/wc/store/products/categories');\n\t\t  \n\t\t\t\tif (!response.ok) {\n\t\t\t\t  throw new Error(`Error en la solicitud: ${response.statusText}`);\n\t\t\t\t}\n\t\t  \n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetAttributes({ categories: data });\n\t\t\t  } catch (error) {\n\t\t\t\tconsole.error('Error fetching WooCommerce categories:', error.message);\n\t\t\t  }\n\t\t\t};\n\t\t  \n\t\t\tfetchWooCommerceProducts();\n\t\t\tfetchWooCommerceCategories();\n\t\t  }, [setAttributes]);\n\t\t\t\n\tconst handleCategoryChange = (value) => {\n\t\tsetAttributes({ selectedCategory: value });\n\t};\n\n\tconst handleFilterClick = () => {\n\t\tsetAttributes({ filter: true });\n\t};\n\n\tconst handleResetFilter = () => {\n\t\tsetAttributes({ filter: false, selectedCategory: '' });\n\t};\n\n\tconst isProductNew = (productDate) => {\n\t\tconst SEVEN_DAYS_IN_MS = 7 * 24 * 60 * 60 * 1000;\n\t\tconst productTimestamp = new Date(productDate).getTime();\n\t\tconst currentTimestamp = new Date().getTime();\n\t\treturn currentTimestamp - productTimestamp < SEVEN_DAYS_IN_MS;\n\t};\n\n\tconst [showAlert, setShowAlert] = useState(false);\n\tconst [errorAlert, setErrorAlert] = useState(false);\n\n\tconst handleAddToCart = async (productId) => {\n\t\tconst quantityInput = document.getElementById(`quantity-${productId}`);\n\t\tconst quantity = quantityInput ? parseInt(quantityInput.value, 10) : 1;\n\n\t\ttry {\n\t\t\t// Obtener el producto actual\n\t\t\tconst product = filteredProducts.find((p) => p.id === productId);\n\n\t\t\t// Verificar si la cantidad seleccionada supera el stock máximo\n\t\t\tif (\n\t\t\t\tproduct.add_to_cart &&\n\t\t\t\tproduct.add_to_cart.maximum &&\n\t\t\t\tquantity > product.add_to_cart.maximum\n\t\t\t) {\n\t\t\t\tsetErrorAlert(\n\t\t\t\t\t`Error: Este artículo tiene solo ${product.add_to_cart.maximum} unidades en stock.`,\n\t\t\t\t);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorAlert(false);\n\t\t\t\t}, 4000);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst response = await fetch(\n\t\t\t\t`http://localhost/wordpress/carrito/?add-to-cart=${productId}&quantity=${quantity}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization:\n\t\t\t\t\t\t\t\"Basic \" +\n\t\t\t\t\t\t\tbtoa(\n\t\t\t\t\t\t\t\t\"ck_3ad4373504dc9d319abe572a905dbf53f4cc65eb\" +\n\t\t\t\t\t\t\t\t\t\":\" +\n\t\t\t\t\t\t\t\t\t\"cs_24cafca407a9a8318a8b85cec0e4b6e9d921bc71\",\n\t\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tproduct_id: productId,\n\t\t\t\t\t\tquantity: quantity,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Error al añadir el producto al carrito: ${response.statusText}`,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetShowAlert(true);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowAlert(false);\n\t\t\t}, 5000);\n\n\t\t\tconsole.log(`Producto agregado al carrito: ${productId}`);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error al añadir el producto al carrito:\", error.message);\n\t\t\tsetErrorAlert(`Error: ${error.message}`);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorAlert(false);\n\t\t\t}, 5000);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div {...useBlockProps()}>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__(\"Filtro de categoría\", \"tu-texto-localizacion\")}>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__(\"Selecciona una categoría\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\tvalue={selectedCategory}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: \"Ninguna\", value: \"\" },\n\t\t\t\t\t\t\t...categories.map((category) => ({\n\t\t\t\t\t\t\t\tlabel: category.name,\n\t\t\t\t\t\t\t\tvalue: category.id,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={handleCategoryChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button isPrimary onClick={handleFilterClick}>\n\t\t\t\t\t\t{__(\"Filtrar\", \"tu-texto-localizacion\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{filter && (\n\t\t\t\t\t\t<Button onClick={handleResetFilter}>\n\t\t\t\t\t\t\t{__(\"Limpiar filtro\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t\t<RadioControl\n\t\t\t\t\tlabel={__(\"Cantidad de productos\", \"tu-texto-localizacion\")}\n\t\t\t\t\tselected={showAllProducts ? \"all\" : \"10\"}\n\t\t\t\t\toptions={[\n\t\t\t\t\t\t{ label: \"10\", value: \"10\" },\n\t\t\t\t\t\t{ label: \"Todos\", value: \"all\" },\n\t\t\t\t\t]}\n\t\t\t\t\tonChange={(value) => handleShowAllProductsChange(value === \"all\")}\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t{loading ? (\n\t\t\t\t<p>{__(\"Cargando productos...\", \"tu-texto-localizacion\")}</p>\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t{showAlert && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"alert\"\n\t\t\t\t\t\t\tstyle={{ backgroundColor: \"#FF7942\", color: \"white\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSe añadió tu producto correctamente\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{errorAlert && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"alert\"\n\t\t\t\t\t\t\tstyle={{ backgroundColor: \"#FF0000\", color: \"white\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{errorAlert}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"grid-container\">\n\t\t\t\t\t\t{displayedProducts.map((product) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={product.id}\n\t\t\t\t\t\t\t\tclassName=\"product-item\"\n\t\t\t\t\t\t\t\tdata-product-id={product.id}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"image-container\">\n\t\t\t\t\t\t\t\t\t{product.add_to_cart &&\n\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum &&\n\t\t\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum < 10 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"stock-alert\">\n\t\t\t\t\t\t\t\t\t\t\t\t{__(\"Pocas existencias\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{product.isNew && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"new-label\">\n\t\t\t\t\t\t\t\t\t\t\t{__(\"Nuevo\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{product.prices.sale_price !==\n\t\t\t\t\t\t\t\t\t\tproduct.prices.regular_price && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"offer-box\">\n\t\t\t\t\t\t\t\t\t\t\t\t{__(\"Oferta\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"discount-box\">{`-${Math.round(\n\t\t\t\t\t\t\t\t\t\t\t\t((product.prices.regular_price -\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.prices.sale_price) /\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.prices.regular_price) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t\t\t\t\t\t)}%`}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={product.permalink}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-size\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={product.images[0].src}\n\t\t\t\t\t\t\t\t\t\t\talt={product.name}\n\t\t\t\t\t\t\t\t\t\t\tonMouseOver={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.currentTarget.src = product.images[1].src;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonMouseOut={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.currentTarget.src = product.images[0].src;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{product.add_to_cart && product.add_to_cart.maximum && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"stock-info\">\n\t\t\t\t\t\t\t\t\t\t\t{__(\"Disponibles\", \"tu-texto-localizacion\")}:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{product.add_to_cart.maximum}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"attribute-category\">\n\t\t\t\t\t\t\t\t\t<span>{product.attributeName}</span>\n\t\t\t\t\t\t\t\t\t{product.categoryName && <span> - </span>}\n\t\t\t\t\t\t\t\t\t{product.categoryName && (\n\t\t\t\t\t\t\t\t\t\t<span className=\"categoria\">{product.categoryName}</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"name-buytiti\">{product.name}</div>\n\t\t\t\t\t\t\t\t<div className=\"sku\">SKU: {product.sku}</div>\n\t\t\t\t\t\t\t\t{product.prices.sale_price !== product.prices.regular_price ? (\n\t\t\t\t\t\t\t\t\t<div className=\"container-price\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"regular-price\">\n\t\t\t\t\t\t\t\t\t\t\t<del>\n\t\t\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t</del>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"sale-price\">\n\t\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t\t{(product.prices.sale_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"price\">\n\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className=\"quantity-container\">\n\t\t\t\t\t\t\t\t\t<label htmlFor={`quantity-${product.id}`}>\n\t\t\t\t\t\t\t\t\t\t{__(\"\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<div className=\"quantity-input-container\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"number-input\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tid={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\t\t\tname={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"1\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-addtocart\"\n\t\t\t\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddToCart(product.id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{__(\"Añadir al carrito\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default MyWooCommerceBlock;","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n\n\t/**\n\t * @see ./save.js\n\t */\n\tsave,\n} );\n","const { useBlockProps } = wp.blockEditor;\nimport { __ } from \"@wordpress/i18n\";\n\nconst MyWooCommerceBlockSave = ({ attributes }) => {\n\tconst { products, selectedCategory, filter, showAllProducts } = attributes;\n  \n\tconst filterProducts = () => {\n\t\tif (selectedCategory) {\n\t\t\treturn products.filter(\n\t\t\t\t(product) =>\n\t\t\t\t\tproduct.categories &&\n\t\t\t\t\tproduct.categories.some(\n\t\t\t\t\t\t(category) => category.id === parseInt(selectedCategory, 10),\n\t\t\t\t\t),\n\t\t\t);\n\t\t}\n\t\treturn products;\n\t};\n\n\tconst filteredProducts = filterProducts();\n  \n\t// Mostrar todos los productos o solo 10 según la opción seleccionada\n\tconst displayedProducts = showAllProducts ? filteredProducts : filteredProducts.slice(0, 10);\n  \n\treturn (\n\t\t<div {...useBlockProps.save()}>\n\t\t\t<div\n\t\t\t\tid=\"success-alert\"\n\t\t\t\tstyle=\"display: none; background-color: #28a745; color: white;\"\n\t\t\t>\n\t\t\t\t✓ Se añadió tu producto correctamente\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tid=\"error-alert\"\n\t\t\t\tstyle=\"display: none; background-color: red; color: white;\"\n\t\t\t>\n\t\t\t\tX Error\n\t\t\t</div>\n\t\t\t<div className=\"grid-container\">\n\t\t\t\t{displayedProducts.map((product) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={product.id}\n\t\t\t\t\t\tclassName=\"product-item\"\n\t\t\t\t\t\tdata-product-id={product.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"image-container\">\n\t\t\t\t\t\t\t{product.add_to_cart &&\n\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum &&\n\t\t\t\t\t\t\t\tproduct.add_to_cart.maximum < 10 && (\n\t\t\t\t\t\t\t\t\t<div className=\"stock-alert\">\n\t\t\t\t\t\t\t\t\t\t{__(\"Pocas existencias\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{product.isNew && (\n\t\t\t\t\t\t\t\t<div className=\"new-label\">\n\t\t\t\t\t\t\t\t\t{__(\"Nuevo\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{product.prices.sale_price !== product.prices.regular_price && (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"offer-box\">\n\t\t\t\t\t\t\t\t\t\t{__(\"Oferta\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"discount-box\">{`-${Math.round(\n\t\t\t\t\t\t\t\t\t\t((product.prices.regular_price -\n\t\t\t\t\t\t\t\t\t\t\tproduct.prices.sale_price) /\n\t\t\t\t\t\t\t\t\t\t\tproduct.prices.regular_price) *\n\t\t\t\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t\t\t\t)}%`}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={product.permalink}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"img-size\"\n\t\t\t\t\t\t\t\t\tsrc={product.images[0].src}\n\t\t\t\t\t\t\t\t\tdata-original-src={product.images[0].src}\n\t\t\t\t\t\t\t\t\tdata-hover-src={product.images[1].src}\n\t\t\t\t\t\t\t\t\talt={product.name}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{product.add_to_cart && product.add_to_cart.maximum && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"stock-info\">\n\t\t\t\t\t\t\t\t\t\t\t{__(\"Disponibles\", \"tu-texto-localizacion\")}:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{product.add_to_cart.maximum}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"attribute-category\">\n\t\t\t\t\t\t\t<span>{product.attributeName}</span>\n\t\t\t\t\t\t\t{product.categoryName && <span> - </span>}\n\t\t\t\t\t\t\t{product.categoryName && (\n\t\t\t\t\t\t\t\t<span className=\"categoria\">{product.categoryName}</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"name-buytiti\">{product.name}</div>\n\t\t\t\t\t\t<div className=\"sku\">SKU: {product.sku}</div>\n\t\t\t\t\t\t{product.prices.sale_price !== product.prices.regular_price ? (\n\t\t\t\t\t\t\t<div className=\"container-price\">\n\t\t\t\t\t\t\t\t<div className=\"regular-price\">\n\t\t\t\t\t\t\t\t\t<del>\n\t\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t\t</del>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sale-price\">\n\t\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t\t{(product.prices.sale_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"price\">\n\t\t\t\t\t\t\t\t{product.prices.currency_prefix}\n\t\t\t\t\t\t\t\t{(product.prices.regular_price / 100).toFixed(2)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"quantity-container\">\n\t\t\t\t\t\t\t<label htmlFor={`quantity-${product.id}`}>\n\t\t\t\t\t\t\t\t{__(\"\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"quantity-input-container\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"number-input\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tid={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\tname={`quantity-${product.id}`}\n\t\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\t\tvalue=\"1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button className=\"btn-addtocart\">\n\t\t\t\t\t\t\t\t\t{__(\"Añadir al carrito\", \"tu-texto-localizacion\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MyWooCommerceBlockSave;\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkbuytitiwoocommerce\"] = globalThis[\"webpackChunkbuytitiwoocommerce\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["useEffect","useState","__","useBlockProps","InspectorControls","PanelBody","SelectControl","Button","RadioControl","MyWooCommerceBlock","attributes","setAttributes","products","categories","selectedCategory","filter","loading","setLoading","showAllProducts","setShowAllProducts","handleShowAllProductsChange","newValue","filterProducts","product","some","category","id","parseInt","filteredProducts","displayedProducts","slice","fetchWooCommerceProducts","allProducts","page","response","fetch","ok","Error","statusText","data","json","productsWithIsNew","Promise","all","map","productResponse","productData","isNew","isProductNew","date","attributeName","name","categoryName","error","console","message","newProducts","sortedProducts","sort","a","b","dateA","Date","getTime","dateB","fetchWooCommerceCategories","handleCategoryChange","value","handleFilterClick","handleResetFilter","productDate","SEVEN_DAYS_IN_MS","productTimestamp","currentTimestamp","showAlert","setShowAlert","errorAlert","setErrorAlert","handleAddToCart","productId","quantityInput","document","getElementById","quantity","find","p","add_to_cart","maximum","setTimeout","method","headers","Authorization","btoa","body","JSON","stringify","product_id","log","createElement","title","label","options","onChange","isPrimary","onClick","selected","className","style","backgroundColor","color","key","prices","sale_price","regular_price","Math","round","href","permalink","target","rel","src","images","alt","onMouseOver","e","currentTarget","onMouseOut","sku","currency_prefix","toFixed","htmlFor","type","min","defaultValue","registerBlockType","Edit","save","metadata","edit","wp","blockEditor","MyWooCommerceBlockSave"],"sourceRoot":""}